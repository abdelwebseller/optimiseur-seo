# Configuration Elest.io pour l'Optimiseur SEO
# Fichier de configuration pour le d√©ploiement automatique

service:
  name: optimiseur-seo
  type: web
  port: 8501
  health_check: http://localhost:8501/_stcore/health
  health_check_interval: 30s
  health_check_timeout: 10s
  health_check_retries: 3

build:
  dockerfile: Dockerfile
  context: .
  build_args: []

deploy:
  replicas: 1
  restart_policy: always
  update_config:
    parallelism: 1
    delay: 10s
    failure_action: rollback

resources:
  limits:
    memory: 1Gi
    cpu: "0.5"
  requests:
    memory: 512Mi
    cpu: "0.25"

environment:
  - STREAMLIT_SERVER_PORT=8501
  - STREAMLIT_SERVER_ADDRESS=0.0.0.0
  - STREAMLIT_SERVER_HEADLESS=true
  - STREAMLIT_SERVER_ENABLE_CORS=true
  - STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=false
  - STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

volumes:
  - logs:/app/logs
  - output:/app/output

networks:
  - default

# Configuration pour le reverse proxy
proxy:
  enabled: true
  ssl: true
  domain: auto 